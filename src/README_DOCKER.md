# üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker - –ê–ª—å–±–æ–º –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞](#-—Å–ø–æ—Å–æ–±—ã-–∑–∞–ø—É—Å–∫–∞)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã](#-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ](#-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows
```cmd
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª
start.bat
```

### Linux / macOS
```bash
# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
chmod +x start.sh
./start.sh
```

### –ë—Ä–∞—É–∑–µ—Ä
–û—Ç–∫—Ä–æ–π—Ç–µ: **http://localhost:3000**

**–ì–æ—Ç–æ–≤–æ!** üéâ

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è | –°—Å—ã–ª–∫–∞ |
|-----------|-------------------|---------|
| Docker | 20.10+ | [docker.com](https://www.docker.com/get-started) |
| Docker Compose | 2.0+ | –í—Ö–æ–¥–∏—Ç –≤ Docker Desktop |
| –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ | 2GB | - |
| –°–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç | 3000 | - |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
docker --version
# –í—ã–≤–æ–¥: Docker version 24.0.0 –∏–ª–∏ –Ω–æ–≤–µ–µ

docker-compose --version
# –í—ã–≤–æ–¥: Docker Compose version 2.0.0 –∏–ª–∏ –Ω–æ–≤–µ–µ
```

---

## üöÄ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**Windows:**
- –ù–∞–π–¥–∏—Ç–µ `start.bat` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
- –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ —Ñ–∞–π–ª—É
- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (1-3 –º–∏–Ω—É—Ç—ã)

**Linux/macOS:**
```bash
chmod +x start.sh
./start.sh
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
- ‚úÖ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

---

### 2. Docker Compose (–≤—Ä—É—á–Ω—É—é)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd –ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
docker-compose up --build -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker ps
```

**–§–ª–∞–≥–∏:**
- `--build` - –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- `-d` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (detached)

---

### 3. –¢–æ–ª—å–∫–æ Docker (–±–µ–∑ Compose)

```bash
# –®–∞–≥ 1: –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker build -t album-vospominaniy .

# –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -d \
  -p 3000:80 \
  --name album-app \
  --restart unless-stopped \
  album-vospominaniy

# –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker ps
```

---

### 4. Development —Ä–µ–∂–∏–º (—Å hot-reload)

```bash
# Windows
start-dev.bat

# Linux/macOS
./start-dev.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker-compose -f docker-compose.dev.yml up
```

**–ê–¥—Ä–µ—Å:** http://localhost:5173

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- Vite dev server
- –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π

---

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose build --no-cache
docker-compose up -d
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
docker ps -a

# –õ–æ–≥–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
docker-compose logs -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker-compose logs --tail=50

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats album-vospominaniy
```

### –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
# –û—Ç–∫—Ä—ã—Ç—å shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec -it album-vospominaniy sh

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–æ:
ls /usr/share/nginx/html    # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª—ã
cat /etc/nginx/conf.d/default.conf    # –ö–æ–Ω—Ñ–∏–≥ nginx
exit    # –í—ã–π—Ç–∏
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
CONTAINER ID   IMAGE                  STATUS         PORTS
abc123def456   album-vospominaniy     Up 2 minutes   0.0.0.0:3000->80/tcp
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ health check

```bash
curl http://localhost:3000/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
healthy
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```bash
curl -I http://localhost:3000
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
HTTP/1.1 200 OK
```

### 4. –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∏–¥–∏—Ç–µ:
- ‚úÖ –í—Ä–∞—â–∞—é—â–∏–π—Å—è 3D —Ü–∏–ª–∏–Ω–¥—Ä
- ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–∏–Ω–æ–ª–µ–Ω—Ç—É
- ‚úÖ –ó–æ–ª–æ—Ç–∏—Å—Ç—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –Ω–∞–π–¥–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
```
'docker' is not recognized as an internal or external command
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Docker Desktop](https://www.docker.com/products/docker-desktop)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker --version`

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: bind: address already in use
```

**–†–µ—à–µ–Ω–∏–µ 1:** –ù–∞–π—Ç–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å

```bash
# Windows
netstat -ano | findstr :3000
taskkill /PID <–Ω–æ–º–µ—Ä> /F

# Linux/Mac
lsof -i :3000
kill -9 <PID>
```

**–†–µ—à–µ–Ω–∏–µ 2:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ `docker-compose.yml` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
```yaml
ports:
  - "8080:80"  # –í–º–µ—Å—Ç–æ 3000:80
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –Ω–∞ http://localhost:8080

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Docker daemon –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Cannot connect to the Docker daemon
```

**–†–µ—à–µ–Ω–∏–µ:**

**Windows/Mac:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ (–∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª—ë–Ω–æ–π)

**Linux:**
```bash
sudo systemctl start docker
sudo systemctl enable docker
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR: failed to solve
npm ERR! code ECONNRESET
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Docker
docker system prune -a

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker ps

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check
curl http://localhost:3000/health

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
docker port album-vospominaniy
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down
docker-compose up --build -d

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥
sleep 30

# –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
```
no space left on device
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
docker system df

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune -a --volumes

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a
```

---

## üì¶ –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏?

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          –ë—Ä–∞—É–∑–µ—Ä                    ‚îÇ
‚îÇ      http://localhost:3000          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ HTTP Request
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Docker Container               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Nginx (Port 80)              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Gzip —Å–∂–∞—Ç–∏–µ                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Health check endpoint      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Static Files                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ index.html                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ JavaScript bundles         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ CSS files                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Three.js 3D scenes         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

```
Stage 1: Builder
‚îú‚îÄ‚îÄ Node.js 20 Alpine
‚îú‚îÄ‚îÄ npm install (–≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ Vite build (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: /app/dist

Stage 2: Production
‚îú‚îÄ‚îÄ Nginx Alpine
‚îú‚îÄ‚îÄ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ Stage 1
‚îú‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx.conf
‚îî‚îÄ‚îÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```

---

## üé® –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### docker-compose.yml

```yaml
version: '3.8'

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: album-vospominaniy
    ports:
      - "3000:80"
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç:**
```yaml
ports:
  - "–ù–û–í–´–ô_–ü–û–†–¢:80"
```

**–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã:**
```yaml
deploy:
  resources:
    limits:
      cpus: '2'
      memory: 2G
```

**–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```yaml
environment:
  - NODE_ENV=production
  - API_URL=https://api.example.com
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
docker stats album-vospominaniy

# –û–¥–∏–Ω —Ä–∞–∑
docker stats --no-stream album-vospominaniy
```

### –õ–æ–≥–∏

```bash
# –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
docker-compose logs | grep -i error

# –° –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
docker-compose logs -t

# –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
docker-compose logs --since 1h
```

### Health check

```bash
# –°—Ç–∞—Ç—É—Å
docker inspect album-vospominaniy --format='{{.State.Health.Status}}'

# –ò—Å—Ç–æ—Ä–∏—è
docker inspect album-vospominaniy --format='{{json .State.Health}}' | jq
```

---

## üßπ –û—á–∏—Å—Ç–∫–∞

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes
docker-compose down -v

# –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker rmi album-vospominaniy
```

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker

```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune -a --volumes

# –¢–æ–ª—å–∫–æ –æ–±—Ä–∞–∑—ã
docker image prune -a

# –¢–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –¢–æ–ª—å–∫–æ volumes
docker volume prune
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [–ö–ê–ö_–ó–ê–ü–£–°–¢–ò–¢–¨.md](–ö–ê–ö_–ó–ê–ü–£–°–¢–ò–¢–¨.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- [–®–ü–ê–†–ì–ê–õ–ö–ê.txt](–®–ü–ê–†–ì–ê–õ–ö–ê.txt) - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- [–ò–ù–§–û–ì–†–ê–§–ò–ö–ê_–ó–ê–ü–£–°–ö–ê.txt](–ò–ù–§–û–ì–†–ê–§–ò–ö–ê_–ó–ê–ü–£–°–ö–ê.txt) - –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [README.md](README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Docker —Ä–µ—Å—É—Ä—Å—ã
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker](https://docs.docker.com/)
- [Docker Compose –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.docker.com/compose/)
- [Best practices –¥–ª—è Dockerfile](https://docs.docker.com/develop/dev-best-practices/)

---

## üéØ –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

**Q: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫?**
A: 1-3 –º–∏–Ω—É—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤?**
A: –î–∞, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

**Q: –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞?**
A: `docker-compose up --build -d`

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?**
A: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç persistent storage, –≤—Å—ë –≤ –ø–∞–º—è—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ production?**
A: –î–∞, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å SSL –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å reverse proxy.

---

## üí° –°–æ–≤–µ—Ç—ã

- üîÑ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Docker: `docker version`
- üßπ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç–∏—Ç–µ: `docker system prune`
- üìä –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–µ—Å—É—Ä—Å–∞–º–∏: `docker stats`
- üìù –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏: `docker-compose logs > logs.txt`
- üîí –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ root –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Docker (Linux)
- ‚ö° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSD –¥–ª—è Docker volumes

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f`
3. –û—Ç–∫—Ä–æ–π—Ç–µ [–ö–ê–ö_–ó–ê–ü–£–°–¢–ò–¢–¨.md](–ö–ê–ö_–ó–ê–ü–£–°–¢–ò–¢–¨.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

---

¬© 2025 –ê–ª—å–±–æ–º –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π  
–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è React, Three.js, Docker –∏ Nginx
